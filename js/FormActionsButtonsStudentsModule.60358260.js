(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FormActionsButtonsStudentsModule"],{"3ca9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-end flex-column flex-sm-row"},[t("form-delete-users-action"),t("form-manage-status-account-action")],1)},o=[],n=s("8336"),r=s("132d"),i=function(){var e=this,t=e._self._c;return t(n["a"],{staticClass:"mx-1 my-1",attrs:{dark:"",small:"",color:"red",loading:e.loadingButton},on:{click:e.confirmDeleteRecordsSelected}},[t("span",[e._v("Dar de baja")]),t(r["a"],{staticClass:"ml-1",attrs:{small:"",dark:""}},[e._v(" mdi-delete ")])],1)},l=[],c=s("2f62"),d=s("82bb"),u={mixins:[d["a"]],data(){return{loadingButton:!1}},computed:{...Object(c["e"])("studentsService",["usersSelected"]),hasSelectedAnyRecord(){return Array.isArray(this.usersSelected)&&this.usersSelected.length>0}},methods:{...Object(c["b"])("studentsService",["actionsForMultipleRecords"]),async actionMultipleRecordsApiRequest({messageSuccess:e,action:t}){try{this.$loadingApp.enableLoadingProgressLinear(),this.loadingButton=!0,await this.actionsForMultipleRecords({data:{action:t,users:this.mapIdUsersSelected()},config:{}}),this.$loadingApp.disabledLoadingProgressLinear(),this.loadingButton=!1,this.$swal.fire({icon:"success",toast:!0,title:e,timer:7500}),await this.loadStudentsFromCurrentTab()}catch(s){this.$loadingApp.disabledLoadingProgressLinear(),this.loadingButton=!1,this.alertErrorRequest()}},mapIdUsersSelected(){return this.usersSelected.map(e=>e.id)},alertErrorRequest(e="Ha ocurrido un problema en la aplicación. Reportelo e intente más tarde"){this.$swal.fire({icon:"error",title:e,showConfirmButton:!0,confirmButtonText:"¡Entendido!",timer:7500})},alertErrorNotSelectedAnyRecord({message:e}){this.$swal.fire({icon:"info",toast:!0,title:e,showConfirmButton:!0,confirmButtonText:"¡Entendido!",timer:7500})}}},m={mixins:[u,d["a"]],methods:{...Object(c["d"])("studentsService",["SET_MATCHES_RESET_OPTIONS_DATATABLE"]),confirmDeleteRecordsSelected(){this.hasSelectedAnyRecord?this.$swal.fire({toast:!0,width:"400px",icon:"question",title:"DAR DE BAJA",html:"<b>Esta acción es irreversible</b><br>¿Seguro que deseas eliminar todos los alumnos seleccionados y los datos relacionados a estos?",showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#007bff",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(e=>{e.isConfirmed&&(this.actionMultipleRecordsApiRequest({action:"delete",messageSuccess:"Los alumnos seleccionados fueron eliminados."}),this.loadStudentsFromCurrentTab())}):this.alertErrorNotSelectedAnyRecord({message:"Por favor, primero debes seleccionar al menos un alumno para dar de baja"})}}},h=m,S=s("2877"),b=Object(S["a"])(h,i,l,!1,null,null,null),p=b.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"d-flex justify-end flex-column flex-sm-row"},[e.isEnableUsersTab?t("form-button-disable-account"):t("form-button-enable-account")],1)},A=[],g=function(){var e=this,t=e._self._c;return t(n["a"],{staticClass:"mx-1 my-1",attrs:{dark:"",small:"",color:"success",loading:e.loadingButton},on:{click:e.enableUsersSelected}},[t("span",[e._v("Reactivar")]),t(r["a"],{staticClass:"ml-1",attrs:{small:"",dark:""}},[e._v(" mdi-check-circle ")])],1)},v=[],E={mixins:[u,d["a"]],methods:{...Object(c["d"])("studentsService",["SET_MATCHES_RESET_OPTIONS_DATATABLE"]),enableUsersSelected(){this.hasSelectedAnyRecord?(this.actionMultipleRecordsApiRequest({action:"unlock-account",messageSuccess:"Los alumnos seleccionados fueron reactivados."}),this.loadStudentsFromCurrentTab()):this.alertErrorNotSelectedAnyRecord({message:"Por favor, primero debes seleccionar al menos un alumno para reactivarlo"})}}},R=E,T=Object(S["a"])(R,g,v,!1,null,null,null),_=T.exports,x=function(){var e=this,t=e._self._c;return t(n["a"],{staticClass:"mx-1 my-1",attrs:{dark:"",small:"",loading:e.loadingButton,color:"deep-purple darken-1"},on:{click:e.disableUsersSelected}},[t("span",[e._v("Desactivar")]),t(r["a"],{staticClass:"ml-1",attrs:{small:"",dark:""}},[e._v(" mdi-close-circle ")])],1)},B=[],C={mixins:[u,d["a"]],methods:{...Object(c["d"])("studentsService",["SET_MATCHES_RESET_OPTIONS_DATATABLE"]),disableUsersSelected(){this.hasSelectedAnyRecord?(this.actionMultipleRecordsApiRequest({action:"lock-account",messageSuccess:"Los alumnos seleccionados fueron desactivados."}),this.loadStudentsFromCurrentTab()):this.alertErrorNotSelectedAnyRecord({message:"Por favor, primero debes seleccionar al menos un alumno para desactivar"})}}},w=C,y=Object(S["a"])(w,x,B,!1,null,null,null),O=y.exports,j={components:{FormButtonEnableAccount:_,FormButtonDisableAccount:O},computed:{...Object(c["e"])("studentsService",["tabViewStudents"]),isEnableUsersTab(){return"students-account-enable"===this.tabViewStudents}}},k=j,L=Object(S["a"])(k,f,A,!1,null,"0d050018",null),D=L.exports,F={components:{FormDeleteUsersAction:p,FormManageStatusAccountAction:D},computed:{}},M=F,P=Object(S["a"])(M,a,o,!1,null,"9501d608",null);t["default"]=P.exports}}]);